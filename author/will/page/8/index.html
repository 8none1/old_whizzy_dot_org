<!DOCTYPE html>
<html lang="en-GB">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<link rel="stylesheet" media="print" href="/wp-content/cache/autoptimize/css/autoptimize_ad69f4871caf44872ba0f8df0a19d0dc.css" onload="this.onload=null;this.media='all';">
<noscript id="aonoscrcss"><link media="all" href="/wp-content/cache/autoptimize/css/autoptimize_ad69f4871caf44872ba0f8df0a19d0dc.css" rel="stylesheet"></noscript>
<title>will &#8211; Page 8 &#8211; whizzy.org</title>
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="whizzy.org &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="whizzy.org &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="whizzy.org &raquo; Posts by will Feed" href="/author/will/feed/"> <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.whizzy.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.7.2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);</script> <link rel="stylesheet" id="googleOpenSans-css" href="//fonts.googleapis.com/css?family=Open+Sans%3A400%2C400italic%2C600%2C700%2C700italic&#038;subset=latin%2Ccyrillic&#038;ver=5.7.2" type="text/css" media="all"> <script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.5.1" id="jquery-core-js"></script> <link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/users/1">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.7.2">
</head>
<body class="archive paged author author-will author-1 custom-background paged-8 author-paged-8 emmet pages-background"> <a class="skip-link screen-reader-text" href="#main"> Skip to content</a><div class="wrapper  ">
<header id="header" class="main-header"><div class="top-header"><div class="container">
<div class="top-menu">
<ul id="menu-top-menu" class="menu"></ul>
<div class="clearfix"></div>
</div>
<div class="social-profile type1 "> <a href="https://twitter.com/8none1" class="button-twitter" title="Twitter" target="_blank"><i class="fa fa-twitter-square"></i></a> <a href="https://github.com/8none1" class="button-google" title="Google +" target="_blank"><i class="fa fa-google-plus-square"></i></a> <a href="https://www.youtube.com/user/willcooke1" class="button-youtube" title="Youtube" target="_blank"><i class="fa fa-youtube-square"></i></a>
</div>
<div class="contact-info ">
<ul class=" info-list"></ul>
<div class="clearfix"></div>
</div>
</div></div>
<div class="site-header" data-sticky-menu="off"><div class="container">
<div class="site-logo"> <a class="home-link" href="/" title="whizzy.org" rel="home"><div class="site-description">
<p class="site-title ">whizzy.org</p>
<p class="site-tagline">On code and gadgets.</p>
</div> </a>
</div> <button class="menu-toggle" aria-controls="main-menu" aria-expanded="false"><span class="menu-show">Menu</span> <span class="menu-close">Close</span>  </button><div id="navbar" class="navbar"><nav id="site-navigation" class="main-navigation"><ul class="sf-menu"></ul></nav></div>
<div class="clearfix"></div>
</div></div></header><div id="main" class="site-main">
<div class="container breadcrumb-wrapper"><div class="breadcrumb breadcrumbs sp-breadcrumbs"><div class="breadcrumb-trail">
<a href="/" title="whizzy.org" rel="home" class="trail-begin">Home</a> <span class="sep"><i class="fa fa-angle-right"></i></span> <span class="trail-end">will</span>
</div></div></div>
<div class="container main-container"><div class="row clearfix">
<div class=" col-xs-12 col-sm-12 col-md-8 col-lg-8">
<article id="post-590" class="post-in-blog post post-590 type-post status-publish format-standard hentry category-linux category-making-the-world-a-better-place category-ubuntu-2"><header class="entry-header"><h2 class="entry-title"> <a href="/2014/08/28/recording-screencasts-from-the-unity-8-desktop-preview/" rel="bookmark">Recording screencasts from the Unity 8 Desktop Preview</a>
</h2></header><section class="entry entry-content"><h1>Obtaining and running Unity 8 Desktop Preview</h1>
<p>If you like playing with new toys you might have already downloaded and tried the Unity 8 Desktop Preview (available here:  <a href="http://cdimage.ubuntu.com/ubuntu-desktop-next/daily-live/current/" target="_blank" rel="noopener noreferrer">http://cdimage.ubuntu.com/ubuntu-desktop-next/daily-live/current/</a>)</p>
<p>If you haven&#8217;t, you should take it for a spin.  If you have an Intel graphics everything should be fine and dandy, if not YMMV at the moment.</p>
<ol>
<li>Download the ISO</li>
<li>Find a spare &gt;1GB USB thumb drive</li>
<li>Run &#8220;disks&#8221; via the dash</li>
<li>Highlight your USB drive and from the cog icon on the right choose &#8220;Restore Disk Image&#8230;&#8221;</li>
<li>Select your ISO and &#8220;Start Restoring&#8221;  &#8211; this will of course erase everything else on your USB stick</li>
<li>Done</li>
</ol>
<p>You can now boot from your USB stick and have a play with Unity 8.  Right now you&#8217;ll be seeing the Phone view of Unity 8, but that will all be changing in time.</p>
<h1>Capturing a screencast</h1>
<p>Once you&#8217;ve got everything up and running you might like to make a few screencasts, so how do you do it?  Well, the Mir developers have provided us with the mirscreencast tool so let&#8217;s use that:</p>
<p>Switch to tty1 (ctrl+alt+f1) and log in and run:</p>
<pre>mirscreencast --file &lt;output file&gt; -m /run/lightdm-mir-0</pre>
<p>Then switch back to tty8 (ctrl-alt-f8) and use Unity.</p>
<p>Your file will now be filling up FAST.  Mirscreencast will be trying to write every raw frame to that file, probably at a rate of 60 frames a second.  To kill mirscreencast I first hit ctrl-z and then:</p>
<pre> pkill -9 mirscreencast</pre>
<p>but there is probably a better way.</p>
<h1>Capturing a better screencast</h1>
<p>There are a few command line options for mirscreencast which will can help us shrink the file size a bit:</p>
<pre>mirscreencast --file &lt;output file&gt; -m /run/lightdm-mir-0 -s 683 384 -n 3600</pre>
<p>The option &#8220;-s&#8221; will resize the captured frames.  Note that 683 384 is exactly half my native resolution, so you will need to adjust this to your display.</p>
<p>The option &#8220;-n&#8221; will capture n frames and then stop.  At 60 frames a second, 3600 frames is one minute.  If you use -n then mirscreencast will exit gracefully at the end.</p>
<h1>Playing back your screencast</h1>
<p>I am lucky enough to have a spare machine with a touch screen just for running Unity 8 on (<a href="http://www.dell.com/uk/dfh/p/inspiron-11-3137/pd" target="_blank" rel="noopener noreferrer">http://www.dell.com/uk/dfh/p/inspiron-11-3137/pd</a>) so I SCP the raw video file on to my main machine for playback and editing.</p>
<p>I use mplayer for most of my video playback and encoding needs and it will happily play the raw video file, but it needs a few pointers:</p>
<pre>mplayer -demuxer rawvideo -rawvideo fps=60:w=683:h=384:format=bgra &lt;filename&gt;</pre>
<p>or, to convert the raw file into something which you can edit in OpenShot try this:</p>
<pre>mencoder -demuxer rawvideo -rawvideo fps=60:w=683:h=384:format=bgra -ovc x264 -o &lt;output filename&gt; &lt;filename&gt;</pre>
<p>And then you can edit and upload the processed file.  When I export from OpenShot I use the &#8220;Web&#8221; profile, then target &#8220;YouTube-HD&#8221;, &#8220;HD 720p 29.97 fps&#8221; &#8220;Med&#8221; &#8211; it&#8217;s a bit overly compressed, but it looks OK.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="clearfix"></div></section><footer class="entry-footer"><div class="meta"> <span class="author">Posted by </span><a href="/author/will/" title="Posts by will" rel="author">will</a> <span class="seporator">/</span> <span class="date-post h6">August 28, 2014</span> <span class="seporator">/</span> <a class="blog-icon underline" href="/2014/08/28/recording-screencasts-from-the-unity-8-desktop-preview/#comments"><span>0 Comments</span></a> <span class="seporator">/</span> <span>Posted in</span> <a href="/category/linux/" rel="category tag">linux</a><span>,</span> <a href="/category/making-the-world-a-better-place/" rel="category tag">Making the world a better place</a><span>,</span> <a href="/category/ubuntu-2/" rel="category tag">Ubuntu</a>
</div></footer></article><article id="post-571" class="post-in-blog post post-571 type-post status-publish format-standard hentry category-making-the-world-a-better-place category-raspberrypi"><header class="entry-header"><h2 class="entry-title"> <a href="/2014/02/04/raspberry-pi-powered-heating-controller-part-4/" rel="bookmark">Raspberry Pi powered heating controller (Part 4)</a>
</h2></header><section class="entry entry-content"><p><noscript><img class="size-medium wp-image-572 alignleft" style="background-color: black;" alt="Heating PCB" src="/wp-content/uploads/2014/02/heating5_pcb-254x300.png" width="254" height="300" srcset="/wp-content/uploads/2014/02/heating5_pcb-254x300.png 254w, /wp-content/uploads/2014/02/heating5_pcb-768x905.png 768w, /wp-content/uploads/2014/02/heating5_pcb.png 822w" sizes="(max-width: 254px) 100vw, 254px"></noscript><img class="lazyload size-medium wp-image-572 alignleft" style="background-color: black;" alt="Heating PCB" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20254%20300%22%3E%3C/svg%3E" data-src="https://www.whizzy.org/wp-content/uploads/2014/02/heating5_pcb-254x300.png" width="254" height="300" data-srcset="https://www.whizzy.org/wp-content/uploads/2014/02/heating5_pcb-254x300.png 254w, https://www.whizzy.org/wp-content/uploads/2014/02/heating5_pcb-768x905.png 768w, https://www.whizzy.org/wp-content/uploads/2014/02/heating5_pcb.png 822w" data-sizes="(max-width: 254px) 100vw, 254px"></p>
<p>It&#8217;s really happening!  The breadboard prototype has been running the heating and hot water for a week or so now, and so far nothing has caught on fire.  The relays are happy, they&#8217;re not getting warm or anything, the Pi is turning things on and off when it&#8217;s supposed to, the REST API is working, and I&#8217;ve knocked up a quick Web interface to switch things remotely.  Last night for the first time I switched the heating on from the sofa, because I was a little bit cold.</p>
<h2 style="text-align: center;">Great success!</h2>
<p style="text-align: center;"><noscript><img class="wp-image-573 aligncenter" alt="Borat" src="http://whizzy.org/wp-content/uploads/2014/02/borat.jpg" width="297" height="297" srcset="/wp-content/uploads/2014/02/borat.jpg 297w, /wp-content/uploads/2014/02/borat-150x150.jpg 150w" sizes="(max-width: 297px) 100vw, 297px"></noscript><img class="lazyload wp-image-573 aligncenter" alt="Borat" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20297%20297%22%3E%3C/svg%3E" data-src="http://whizzy.org/wp-content/uploads/2014/02/borat.jpg" width="297" height="297" data-srcset="https://www.whizzy.org/wp-content/uploads/2014/02/borat.jpg 297w, https://www.whizzy.org/wp-content/uploads/2014/02/borat-150x150.jpg 150w" data-sizes="(max-width: 297px) 100vw, 297px"></p>
<p><span style="font-size: 14px; line-height: 1.5em;">I&#8217;ve turned the breadboard layout in to a PCB design and today at 09:11 UTC it was sent off for manufacture, I should have it back in a week.  All the other components are on their way and so next weekend I should be able to put everything together and solder it to the board.  With a bit of luck it will work first time.</span></p>
<p>I&#8217;m quite please with the board layout, it&#8217;s a fairly useful breakout board for the Raspberry Pi.  In the future I would like to re-work it with smaller traces so that it can fit directly on top of the Pi.</p>
<p>The software to drive everything is rather basic, but I will make it available via Github anyway, it might come in handy.  I will be working on this over the coming months, so it should improve soon.  You&#8217;ll need a MySQL server set up.  The schema for the database is included in the repo.  The whole thing has grown organically and so the naming and structure is poor, but it works.</p>
<p>Code:  <a href="https://github.com/8none1/heating">https://github.com/8none1/heating</a></p>
<p><span style="font-size: 14px; line-height: 1.5em;">I&#8217;ve starting making some 1wire temperature sensors which I will place in various rooms and hook up back to the Pi via cat5.</span></p>
<p><a href="http://whizzy.org/wp-content/uploads/2014/02/1wire_heat.jpg"><noscript><img class="alignleft size-medium wp-image-574" alt="1wire_heat" src="/wp-content/uploads/2014/02/1wire_heat-300x225.jpg" width="300" height="225" srcset="/wp-content/uploads/2014/02/1wire_heat-300x225.jpg 300w, /wp-content/uploads/2014/02/1wire_heat.jpg 764w" sizes="(max-width: 300px) 100vw, 300px"></noscript>
<img class="lazyload alignleft size-medium wp-image-574" alt="1wire_heat" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20300%20225%22%3E%3C/svg%3E" data-src="https://www.whizzy.org/wp-content/uploads/2014/02/1wire_heat-300x225.jpg" width="300" height="225" data-srcset="https://www.whizzy.org/wp-content/uploads/2014/02/1wire_heat-300x225.jpg 300w, https://www.whizzy.org/wp-content/uploads/2014/02/1wire_heat.jpg 764w" data-sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>I won&#8217;t be able to control individual radiators at the moment, but I can set a target temperature for a given room and rely on the TRVs to control the temperature in other rooms.</p>
<p>I&#8217;ll also be adding outside temperature sensors and looking to replace the main room stat with another Pi in the future.</p>
<p>In summary then, I should have the final thing built in the next couple of weeks.  More to follow when that happens.  I&#8217;m considering looking at moving the whole thing to a micro controller rather than a Pi, that would reduce the BOM quite considerably, and might even warrant a commercial product in the long run &#8211; a hackable heating controller.  Is this something people might be interested in?</p>
<h2>Further Updates</h2>
<ul>
<li><a title="Raspberry Pi powered heating controller (Part 1)" href="/2014/01/raspberry-pi-powered-heating-controller-part-1/">Part 1</a></li>
<li><a title="Raspberry Pi powered heating controller (Part 2)" href="/2014/01/raspberry-pi-powered-heating-controller-part-2/">Part 2</a></li>
<li><a title="Raspberry Pi powered heating controller (Part 3)" href="/2014/01/raspberry-pi-powered-heating-controller-part-3/">Part 3</a></li>
</ul>
<p>&nbsp;</p>
<div class="clearfix"></div></section><footer class="entry-footer"><div class="meta"> <span class="author">Posted by </span><a href="/author/will/" title="Posts by will" rel="author">will</a> <span class="seporator">/</span> <span class="date-post h6">February 4, 2014</span> <span class="seporator">/</span> <a class="blog-icon underline" href="/2014/02/04/raspberry-pi-powered-heating-controller-part-4/#comments"><span>4 Comments</span></a> <span class="seporator">/</span> <span>Posted in</span> <a href="/category/making-the-world-a-better-place/" rel="category tag">Making the world a better place</a><span>,</span> <a href="/category/raspberrypi/" rel="category tag">RaspberryPi</a>
</div></footer></article><article id="post-561" class="post-in-blog post post-561 type-post status-publish format-standard hentry category-making-the-world-a-better-place category-raspberrypi"><header class="entry-header"><h2 class="entry-title"> <a href="/2014/01/27/raspberry-pi-powered-heating-controller-part-3/" rel="bookmark">Raspberry Pi powered heating controller (Part 3)</a>
</h2></header><section class="entry entry-content"><p>I&#8217;ve had all the parts hooked up on breadboard for a few weeks now, and in theory everything works.  I haven&#8217;t actually tested the prototype with the real heating system yet as it&#8217;s been cold and I don&#8217;t want to risk blowing anything up and having to deal with a cold house and an angry family.  Sometime in the next month or so I will do that, but as far as I can tell it will Just Work (lolz).</p>
<div id="attachment_562" style="width: 310px" class="wp-caption alignnone">
<a href="http://whizzy.org/wp-content/uploads/2014/01/final_breadboard.jpg"><noscript><img aria-describedby="caption-attachment-562" class="size-medium wp-image-562 " alt="The final circuit design" src="/wp-content/uploads/2014/01/final_breadboard-300x225.jpg" width="300" height="225"></noscript>
<img aria-describedby="caption-attachment-562" class="lazyload size-medium wp-image-562 " alt="The final circuit design" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20300%20225%22%3E%3C/svg%3E" data-src="https://www.whizzy.org/wp-content/uploads/2014/01/final_breadboard-300x225.jpg" width="300" height="225"></a><p id="caption-attachment-562" class="wp-caption-text">The final circuit design</p>
</div>
<p>In the meantime I&#8217;ve been thinking about the software to drive the thing.</p>
<p>My programming skills are pretty basic so I have been trying to keep everything as simple as possible.  <span style="font-size: 14px; line-height: 1.5em;"> It became apparent that I was going to need some inter-process communication so that I could handle switching things on and off from outside the controller program (for web control etc).  This presented me with a problem as all the basic reading from files/FIFOs were blocking &#8211; in that they would sit and wait for a &#8220;command&#8221; to be received before continuing &#8211; and that was too limiting for my needs.  I was going to </span><span style="font-size: 14px; line-height: 1.5em;">have to deal with some kind of threading.  This troubled me deeply.  The good people of Google+ suggested a few options and in the end I decided a RESTful interface was the way to go as it should be accessible from the widest range of other languages I might have to use, and especially easy from a web browser.</span></p>
<p>Originally I had imagined that I would have a single Python script to handle pretty much everything, including:</p>
<ul>
<li>Switching the relays on/off</li>
<li>Responding to button presses</li>
<li>Proving a scheduling engine for standard &#8220;on at this time, off at this time&#8221; behaviours</li>
<li>Providing a way for other things to control the system</li>
<li>Monitoring temperatures around the house</li>
<li>Intelligent switching (e.g. it&#8217;s extra cold this morning, turn on early)</li>
</ul>
<p>That way, I figured, I could just write one script and each function could interact with each other function very easily.  But following a conversation with Mark S. a few years ago, and then more recently with Stuart L. I was starting to think that the monolithic architecture was not the way to go and instead I should push the intelligence out to the edges and the main loop should just deal with the basic on/off functionality.  I was worried that if something went wrong with the electronics, for example the heating turned on but never off, then it would be difficult to spot from outside the main loop.  But, given that the heating system has a lot of built-in safety features like room stats, boiler stats and hot water stats which are all wired in series with the mains that won&#8217;t be a problem, and besides the current controller doesn&#8217;t do anything more intelligent than ON or OFF.</p>
<p>To that end I decided that I&#8217;d go with this architecture:</p>
<p><a href="http://whizzy.org/wp-content/uploads/2014/01/Heating-System-Architecture.jpg"><noscript><img class="size-medium wp-image-564 alignnone" alt="Heating System Architecture" src="/wp-content/uploads/2014/01/Heating-System-Architecture-300x250.jpg" width="300" height="250"></noscript>
<img class="lazyload size-medium wp-image-564 alignnone" alt="Heating System Architecture" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20300%20250%22%3E%3C/svg%3E" data-src="https://www.whizzy.org/wp-content/uploads/2014/01/Heating-System-Architecture-300x250.jpg" width="300" height="250"></a></p>
<p>The Relay Controller would handle switching the power on and off in the right order to the right outputs, it would handle the switches for manual override, provide feedback via LEDs, and it would provide a REST interface for anything else to control the system or find out what the current state is.  This way I can write a much more simple script to manage the scheduler for example.  It can run independently and then simply poke the relay controller at the right time.  I also decided that the relay controller would only have the ability to switch <strong>off</strong> after a certain period of time.  The default will be 60 mins.  This further simplifies things and puts just the right amount of intelligence in the core.  The scheduler just says &#8220;switch on now, and off again in 90 minutes&#8221;.  If the scheduler crashes the correct state is maintained by the controller and things just pick up from where they were when the scheduler starts again.  If the controller crashes then the power is removed from the system and it &#8220;fails safe&#8221;.</p>
<p>The REST API is simple:</p>
<ul>
<li>/get/ch <em>or</em> hw/ &#8211; gets the current state of the system as a JSON object. e.g. &#8220;http://10.0.0.1/get/ch&#8221;</li>
<li>/set/<em>ch</em> or <em>hw</em>/on <em>or</em> off &#8211; switch the system on or off.  e.g. &#8220;http://10.0.0.1/set/ch/on&#8221; switches the central eating on for the default time (60 minutes)</li>
<li>/set/ch <em>or</em> hw/on/n &#8211; switch the system on for n minutes.  e.g. &#8220;http://10.0.0.1/set/hw/on/90&#8221; switches hot water on for 90 minutes</li>
</ul>
<p>I used the Python SimpleHTTPServer, the ThreadedHTTPServer and threading.Thread.</p>
<p>I&#8217;m certain that it could be rewritten using proper OO methods and whatnot, and there is quite a lot of code which started out as an idea which then became redundant, but if you&#8217;re interested it&#8217;s available here:  <a href="/wp-content/uploads/2014/01/piheat.txt">piheat</a><a href="/wp-content/uploads/2014/01/piheat.txt"><br> </a></p>
<p><span style="font-size: 14px; line-height: 1.5em;">Next on the agenda is to draw a PCB and get it made (once I&#8217;ve tested the circuit properly) and work on the scheduling engine.  At this rate I should be finished right around the time when we don&#8217;t need to use the heating any more.</span></p>
<h2>Further Updates</h2>
<ul>
<li><a title="Raspberry Pi powered heating controller (Part 1)" href="/2014/01/raspberry-pi-powered-heating-controller-part-1/">Part 1</a></li>
<li><a title="Raspberry Pi powered heating controller (Part 2)" href="/2014/01/raspberry-pi-powered-heating-controller-part-2/">Part 2</a></li>
<li><a title="Raspberry Pi powered heating controller (Part 4)" href="/2014/02/raspberry-pi-powered-heating-controller-part-4/">Part 4</a></li>
</ul>
<p>&nbsp;</p>
<div class="clearfix"></div></section><footer class="entry-footer"><div class="meta"> <span class="author">Posted by </span><a href="/author/will/" title="Posts by will" rel="author">will</a> <span class="seporator">/</span> <span class="date-post h6">January 27, 2014</span> <span class="seporator">/</span> <a class="blog-icon underline" href="/2014/01/27/raspberry-pi-powered-heating-controller-part-3/#comments"><span>2 Comments</span></a> <span class="seporator">/</span> <span>Posted in</span> <a href="/category/making-the-world-a-better-place/" rel="category tag">Making the world a better place</a><span>,</span> <a href="/category/raspberrypi/" rel="category tag">RaspberryPi</a>
</div></footer></article><nav class="navigation paging-navigation"> <a class="prev page-numbers" href="/author/will/page/7/">&laquo; Previous</a> <a class="page-numbers" href="/author/will/">1</a> <span class="page-numbers dots">&hellip;</span> <a class="page-numbers" href="/author/will/page/6/">6</a> <a class="page-numbers" href="/author/will/page/7/">7</a> <span aria-current="page" class="page-numbers current">8</span> <a class="page-numbers" href="/author/will/page/9/">9</a> <a class="page-numbers" href="/author/will/page/10/">10</a> <span class="page-numbers dots">&hellip;</span> <a class="page-numbers" href="/author/will/page/24/">24</a> <a class="next page-numbers" href="/author/will/page/9/">Next &raquo;</a></nav>
</div>
<div class=" col-xs-12 col-sm-12 col-md-4 col-lg-4"><aside id="sidebar"><div class="widget-area">
<div id="archives-4" class="widget widget_archive">
<h3 class="widget-title">Archives</h3>
<ul>
<li><a href="/2021/01/">January 2021</a></li>
<li><a href="/2019/07/">July 2019</a></li>
<li><a href="/2019/06/">June 2019</a></li>
<li><a href="/2019/05/">May 2019</a></li>
<li><a href="/2017/05/">May 2017</a></li>
<li><a href="/2017/03/">March 2017</a></li>
<li><a href="/2017/02/">February 2017</a></li>
<li><a href="/2016/12/">December 2016</a></li>
<li><a href="/2016/11/">November 2016</a></li>
<li><a href="/2016/10/">October 2016</a></li>
<li><a href="/2016/09/">September 2016</a></li>
<li><a href="/2016/02/">February 2016</a></li>
<li><a href="/2015/12/">December 2015</a></li>
<li><a href="/2015/10/">October 2015</a></li>
<li><a href="/2015/09/">September 2015</a></li>
<li><a href="/2015/06/">June 2015</a></li>
<li><a href="/2015/05/">May 2015</a></li>
<li><a href="/2015/02/">February 2015</a></li>
<li><a href="/2014/08/">August 2014</a></li>
<li><a href="/2014/02/">February 2014</a></li>
<li><a href="/2014/01/">January 2014</a></li>
<li><a href="/2013/12/">December 2013</a></li>
<li><a href="/2013/11/">November 2013</a></li>
<li><a href="/2013/02/">February 2013</a></li>
<li><a href="/2012/11/">November 2012</a></li>
<li><a href="/2012/08/">August 2012</a></li>
<li><a href="/2012/03/">March 2012</a></li>
<li><a href="/2011/09/">September 2011</a></li>
<li><a href="/2011/08/">August 2011</a></li>
<li><a href="/2011/07/">July 2011</a></li>
<li><a href="/2011/06/">June 2011</a></li>
<li><a href="/2011/04/">April 2011</a></li>
<li><a href="/2011/02/">February 2011</a></li>
<li><a href="/2010/10/">October 2010</a></li>
<li><a href="/2010/09/">September 2010</a></li>
<li><a href="/2010/08/">August 2010</a></li>
<li><a href="/2010/06/">June 2010</a></li>
<li><a href="/2010/01/">January 2010</a></li>
<li><a href="/2009/10/">October 2009</a></li>
<li><a href="/2009/09/">September 2009</a></li>
<li><a href="/2009/08/">August 2009</a></li>
<li><a href="/2009/07/">July 2009</a></li>
<li><a href="/2009/06/">June 2009</a></li>
<li><a href="/2009/05/">May 2009</a></li>
</ul>
</div>
<div id="recent-posts-2" class="widget widget_recent_entries">
<h3 class="widget-title">Recent Posts</h3>
<ul>
<li> <a href="/2021/01/02/double-helping-of-pi-hole/">Double helping of Pi Hole</a>
</li>
<li> <a href="/2019/07/16/dns-over-https-in-a-snap/">DNS over HTTPS in a snap</a>
</li>
<li> <a href="/2019/06/11/whizzy-labs-wireless-sensor/">Whizzy Labs Wireless Sensor</a>
</li>
<li> <a href="/2019/05/07/ubuntu-developer-desktop-survey-2019/">Ubuntu Developer Desktop Survey 2019</a>
</li>
<li> <a href="/2017/05/19/ubuntu-desktop-goings-on-friday-19th-may-2017/">Ubuntu Desktop goings on.  Friday 19th May 2017</a>
</li>
</ul>
</div>
<div id="search-2" class="widget widget_search"><form method="get" class="search-form" action="/"> <input type="text" class="search-field" placeholder="Search &#8230;" value="" name="s" title="Search for:"> <button type="submit" class="search-submit"><i class="fa fa-search"></i></button>
</form></div>
<div id="categories-4" class="widget widget_categories">
<h3 class="widget-title">Categories</h3>
<ul>
<li class="cat-item cat-item-2"><a href="/category/alexa/">Alexa</a></li>
<li class="cat-item cat-item-3"><a href="/category/arduino/">Arduino</a></li>
<li class="cat-item cat-item-4"><a href="/category/asterisk/">asterisk</a></li>
<li class="cat-item cat-item-5"><a href="/category/google-maps/">Google Maps</a></li>
<li class="cat-item cat-item-6"><a href="/category/iot/">IoT</a></li>
<li class="cat-item cat-item-7"><a href="/category/javascript/">Javascript</a></li>
<li class="cat-item cat-item-8"><a href="/category/linux/">linux</a></li>
<li class="cat-item cat-item-9"><a href="/category/making-the-world-a-better-place/">Making the world a better place</a></li>
<li class="cat-item cat-item-10"><a href="/category/raspberrypi/">RaspberryPi</a></li>
<li class="cat-item cat-item-12"><a href="/category/so-called-humor/">So called humor</a></li>
<li class="cat-item cat-item-13"><a href="/category/tv/">tv</a></li>
<li class="cat-item cat-item-14"><a href="/category/ubuntu-2/">Ubuntu</a></li>
<li class="cat-item cat-item-15"><a href="/category/uncategorized/">Uncategorized</a></li>
</ul>
</div>
<div id="text-3" class="widget widget_text">
<h3 class="widget-title">Feeds</h3>
<div class="textwidget"><p><a href="https://feeds.feedburner.com/Whizzyorg" rel="alternate" type="application/rss+xml"><noscript><img style="vertical-align: middle; border: 0;" src="https://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt=""></noscript>
<img class="lazyload" style="vertical-align: middle; border: 0;" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20210%20140%22%3E%3C/svg%3E" data-src="https://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt=""></a> <a href="https://feeds.feedburner.com/Whizzyorg" rel="alternate" type="application/rss+xml">Subscribe in a reader</a></p></div>
</div>
</div></aside></div>
</div></div>
</div>
<footer id="footer" class="site-footer"> <a href="#" id="toTop" class="toTop"><i class="fa fa-angle-up"></i></a><div class="footer-sidebar"><div class="container"><div class="row">
<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
<div id="archives-2" class="widget widget_archive">
<h4 class="widget-title">Archives</h4>
<ul>
<li><a href="/2021/01/">January 2021</a></li>
<li><a href="/2019/07/">July 2019</a></li>
<li><a href="/2019/06/">June 2019</a></li>
<li><a href="/2019/05/">May 2019</a></li>
<li><a href="/2017/05/">May 2017</a></li>
<li><a href="/2017/03/">March 2017</a></li>
<li><a href="/2017/02/">February 2017</a></li>
<li><a href="/2016/12/">December 2016</a></li>
<li><a href="/2016/11/">November 2016</a></li>
<li><a href="/2016/10/">October 2016</a></li>
<li><a href="/2016/09/">September 2016</a></li>
<li><a href="/2016/02/">February 2016</a></li>
<li><a href="/2015/12/">December 2015</a></li>
<li><a href="/2015/10/">October 2015</a></li>
<li><a href="/2015/09/">September 2015</a></li>
<li><a href="/2015/06/">June 2015</a></li>
<li><a href="/2015/05/">May 2015</a></li>
<li><a href="/2015/02/">February 2015</a></li>
<li><a href="/2014/08/">August 2014</a></li>
<li><a href="/2014/02/">February 2014</a></li>
<li><a href="/2014/01/">January 2014</a></li>
<li><a href="/2013/12/">December 2013</a></li>
<li><a href="/2013/11/">November 2013</a></li>
<li><a href="/2013/02/">February 2013</a></li>
<li><a href="/2012/11/">November 2012</a></li>
<li><a href="/2012/08/">August 2012</a></li>
<li><a href="/2012/03/">March 2012</a></li>
<li><a href="/2011/09/">September 2011</a></li>
<li><a href="/2011/08/">August 2011</a></li>
<li><a href="/2011/07/">July 2011</a></li>
<li><a href="/2011/06/">June 2011</a></li>
<li><a href="/2011/04/">April 2011</a></li>
<li><a href="/2011/02/">February 2011</a></li>
<li><a href="/2010/10/">October 2010</a></li>
<li><a href="/2010/09/">September 2010</a></li>
<li><a href="/2010/08/">August 2010</a></li>
<li><a href="/2010/06/">June 2010</a></li>
<li><a href="/2010/01/">January 2010</a></li>
<li><a href="/2009/10/">October 2009</a></li>
<li><a href="/2009/09/">September 2009</a></li>
<li><a href="/2009/08/">August 2009</a></li>
<li><a href="/2009/07/">July 2009</a></li>
<li><a href="/2009/06/">June 2009</a></li>
<li><a href="/2009/05/">May 2009</a></li>
</ul>
</div>
<div id="categories-2" class="widget widget_categories">
<h4 class="widget-title">Categories</h4>
<ul>
<li class="cat-item cat-item-2"><a href="/category/alexa/">Alexa</a></li>
<li class="cat-item cat-item-3"><a href="/category/arduino/">Arduino</a></li>
<li class="cat-item cat-item-4"><a href="/category/asterisk/">asterisk</a></li>
<li class="cat-item cat-item-5"><a href="/category/google-maps/">Google Maps</a></li>
<li class="cat-item cat-item-6"><a href="/category/iot/">IoT</a></li>
<li class="cat-item cat-item-7"><a href="/category/javascript/">Javascript</a></li>
<li class="cat-item cat-item-8"><a href="/category/linux/">linux</a></li>
<li class="cat-item cat-item-9"><a href="/category/making-the-world-a-better-place/">Making the world a better place</a></li>
<li class="cat-item cat-item-10"><a href="/category/raspberrypi/">RaspberryPi</a></li>
<li class="cat-item cat-item-12"><a href="/category/so-called-humor/">So called humor</a></li>
<li class="cat-item cat-item-13"><a href="/category/tv/">tv</a></li>
<li class="cat-item cat-item-14"><a href="/category/ubuntu-2/">Ubuntu</a></li>
<li class="cat-item cat-item-15"><a href="/category/uncategorized/">Uncategorized</a></li>
</ul>
</div>
<div id="meta-2" class="widget widget_meta">
<h4 class="widget-title">Meta</h4>
<ul>
<li><a href="/wp-login.php">Log in</a></li>
<li><a href="/feed/">Entries feed</a></li>
<li><a href="/comments/feed/">Comments feed</a></li>
<li><a href="https://en-gb.wordpress.org/">WordPress.org</a></li>
</ul>
</div>
</div>
<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"></div>
<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"></div>
</div></div></div>
<div class="footer-inner"><div class="container">
<p class="social-profile type1 pull-right"> <a href="https://twitter.com/8none1" class="button-twitter" title="Twitter" target="_blank"><i class="fa fa-twitter-square"></i></a> <a href="https://github.com/8none1" class="button-google" title="Google +" target="_blank"><i class="fa fa-google-plus-square"></i></a> <a href="https://www.youtube.com/user/willcooke1" class="button-youtube" title="Youtube" target="_blank"><i class="fa fa-youtube-square"></i></a></p>
<p class="copyright"><span class="copyright-date"> &copy; Copyright 2021 </span> <a href="/" title="whizzy.org" target="_blank">whizzy.org</a> &#8226; Designed by <a href="https://motopress.com/" rel="nofollow" title="Premium WordPress Plugins and Themes">MotoPress</a> &#8226; Proudly Powered by <a href="http://wordpress.org/" rel="nofollow" title="Semantic Personal Publishing Platform">WordPress</a></p>
</div></div></footer>
</div> <noscript><style>.lazyload{display:none;}</style></noscript>
<script data-noptimize="1">window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig.loadMode=1;</script><script async data-noptimize="1" src="/wp-content/plugins/autoptimize/classes/external/js/lazysizes.min.js?ao_version=2.8.4"></script> <script type="text/javascript" id="emmet-script-js-extra">var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
var template_directory_uri = {"url":"https:\/\/www.whizzy.org\/wp-content\/themes\/emmet-lite"};</script> <script>/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);</script> <script defer src="/wp-content/cache/autoptimize/js/autoptimize_78789ca997016d9e81ffd10b2fcdec4f.js"></script>
</body>
</html>